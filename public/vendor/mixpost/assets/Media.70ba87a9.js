import{r as x,h as b,D as M,c as k,a as s,u as o,b as _,w as t,F as C,o as u,Z as N,e as A,k as f,d as l,t as O,G as E,q as g,P as F,i as S,f as j,O as q}from"./app.986b6adc.js";import{u as z}from"./SearchInput.60812392.js";import{u as G,_ as Z,a as H,b as J}from"./MediaGifs.727b0922.js";import{_ as Q}from"./PageHeader.ac2599fe.js";import{T as R,_ as U}from"./Tab.fc9d9aa9.js";import{_ as W,a as X}from"./PureDangerButton.587adb56.js";import{_ as Y,T as K,b as ee}from"./Trash.18349e8c.js";import{_ as se}from"./Panel.5224f7ba.js";import"./Input.371b62df.js";import"./NoResult.5b7eda6b.js";import"./helpers.73aae10f.js";import"./ExclamationCircle.b903b7c6.js";import"./Alert.b6711ff4.js";import"./PrimaryButton.f86bfcb5.js";import"./useNotifications.8793251d.js";const te={class:"max-w-5xl w-full mx-auto row-py mb-2xl"},ae={class:"w-full row-px"},oe={class:"w-full row-px mt-lg"},Ce={__name:"Media",setup(le){const{activeTab:i,tabs:D,isDownloading:p,isDeleting:v,downloadExternal:y,deletePermanently:P}=G(),L={uploads:Z,stock:H,gifs:J},n=x(),T=b(()=>L[i.value]),m=b(()=>n.value?n.value.selected:[]),w=()=>{n.value.deselectAll()},I=()=>{const a=i.value!=="uploads";a&&y(m.value,e=>{$(e.data)}),a||$(m.value)},{versionContentObject:V}=z(),$=a=>{q.post(route("mixpost.posts.store"),{versions:[{account_id:0,is_original:!0,content:[V("",a.map(e=>e.id))]}]})},r=x(!1),h=()=>{const a=m.value.map(e=>e.id);P(a,()=>{w(),n.value.removeItems(a),r.value=!1})};return(a,e)=>{const B=M("tooltip");return u(),k(C,null,[s(o(N),{title:"Media Library"}),_("div",te,[s(Q,{title:"Media Library"}),_("div",ae,[s(R,null,{default:t(()=>[(u(!0),k(C,null,A(o(D),(c,d)=>(u(),f(U,{key:d,onClick:ie=>i.value=d,active:o(i)===d},{default:t(()=>[l(O(c),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_("div",oe,[s(se,null,{default:t(()=>[(u(),f(E(T.value),{ref_key:"sourceProperties",ref:n,columns:4},null,512)),s(W,{count:m.value.length,onClose:e[1]||(e[1]=c=>w())},{default:t(()=>[s(g,{onClick:I,isLoading:o(p),disabled:o(p),class:"mr-sm",size:"xs"},{default:t(()=>[s(F,{class:"mr-xs"}),l(" Create Post ")]),_:1},8,["isLoading","disabled"]),o(i)==="uploads"?S((u(),f(X,{key:0,onClick:e[0]||(e[0]=c=>r.value=!0)},{default:t(()=>[s(K)]),_:1})),[[B,"Delete"]]):j("",!0)]),_:1},8,["count"])]),_:1})])]),s(Y,{show:r.value,variant:"danger",onClose:e[3]||(e[3]=c=>r.value=!1)},{header:t(()=>[l(" Delete media ")]),body:t(()=>[l(" Are you sure you want to delete selected media items? ")]),footer:t(()=>[s(g,{onClick:e[2]||(e[2]=c=>r.value=!1),class:"mr-xs"},{default:t(()=>[l("Cancel")]),_:1}),s(ee,{isLoading:o(v),disabled:o(v),onClick:h},{default:t(()=>[l("Delete")]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"])],64)}}};export{Ce as default};
